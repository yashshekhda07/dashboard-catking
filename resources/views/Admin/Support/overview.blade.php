<style>
    .class_and_group_count_card_container .card {
        min-height: 140px;
    }

    .class_and_group_count_card_container_loader {
        display: none;
        min-height: 320px;
        display: flex;
        justify-content: center;
        align-items: center;
    }
</style>
<div class="overview_container">
    <div class="container-fluid">
        <div class="data_loader class_and_group_count_card_container_loader">
            <svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#027AFB">
                <g fill="none" fill-rule="evenodd" stroke-width="2">
                    <circle cx="22" cy="22" r="1">
                        <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                        <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                    </circle>
                    <circle cx="22" cy="22" r="1">
                        <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                        <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                    </circle>
                </g>
            </svg>
        </div>
        <div class="row class_and_group_count_card_container">
            <div class="col-4 col-md-4 col-lg-4">
                <div class="card" style="width: 100%;">
                    <div class="card-body text-center">
                        <h5 class="card-title text-primary fs-1 total_converted_leads">0</h5>
                        <p class="card-text fw-semibold">Total Number of Leads Converted</p>
                    </div>
                </div>
            </div>
            <div class="col-4 col-md-4 col-lg-4">
                <div class="card" style="width: 100%;">
                    <div class="card-body text-center">
                        <h5 class="card-title text-primary fs-1 total_welcome_calls">0</h5>
                        <p class="card-text fw-semibold">Total Number of Welcome Calls</p>
                    </div>
                </div>
            </div>
            <div class="col-4 col-md-4 col-lg-4">
                <div class="card" style="width: 100%;">
                    <div class="card-body text-center">
                        <h5 class="card-title text-primary fs-1 total_incoming_calls">0</h5>
                        <p class="card-text fw-semibold">Total Number of incoming Calls</p>
                    </div>
                </div>
            </div>
            <div class="col-4 col-md-4 col-lg-4">
                <div class="card" style="width: 100%;">
                    <div class="card-body text-center">
                        <h5 class="card-title text-primary fs-1 total_customer_success_calls">0</h5>
                        <p class="card-text fw-semibold">Total Number of Customer Success Calls</p>
                    </div>
                </div>
            </div>
            <div class="col-4 col-md-4 col-lg-4">
                <div class="card" style="width: 100%;">
                    <div class="card-body text-center">
                        <h5 class="card-title text-primary fs-1 whatspp_group_additions">0</h5>
                        <p class="card-text fw-semibold">Whatsapp group addition</p>
                    </div>
                </div>
            </div>
            <div class="col-4 col-md-4 col-lg-4">
                <div class="card" style="width: 100%;">
                    <div class="card-body text-center">
                        <h5 class="card-title text-primary fs-1 total_orders_between_550_to_550">0
                        </h5>
                        <p class="card-text fw-semibold">Total number of orders processed 5:50PM- 5:50PM</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-6 col-md-6 col-lg-6">
                <div class="card card_box_shadow" style="width: 100%;">
                    <div class="card-body text-start p-0 position-relative card_table_container">
                        <div class="data_loader welcome_calls_loader">
                            <svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#027AFB">
                                <g fill="none" fill-rule="evenodd" stroke-width="2">
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                </g>
                            </svg>
                        </div>
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col" class="text-primary"><span class="fw-semibold fs-4">Welcome
                                            calls<span></th>
                                <th scope="col">
                                    <p class="fw-semibold fs-4 text-end total_welcome_calls">0</p>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td scope="row w-80"><b>No. of calls connected</b><br>1st attempt+2nd attempt +
                                    return calls on inbound
                                </td>
                                <td class="text-end text-count-background total_welcome_calls_connected">0</td>
                            </tr>
                            <tr>
                                <td scope="row"><b>No. of welcome calls unanswered</b><br> 1st attempt+2nd
                                    attempt- inbound
                                </td>
                                <td class="text-end text-count-background total_welcome_calls_unanswered">0</td>
                            </tr>
                            <tr>
                                <td scope="row"><b>No. of Whatsapp message sent after 2nd attempt</b><br> Data
                                    Extracted From Support Tracker Sheet
                                </td>
                                <td class="text-end text-count-background">0</td>
                            </tr>
                            <tr>
                                <td scope="row"><b>No. of students missed for welcome</b></td>
                                <td class="text-end text-count-background">0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card card_box_shadow" style="width: 100%;">
                    <div class="card-body text-start p-0 card_table_container">
                        <div class="data_loader customer_success_calls_loader">
                            <svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#027AFB">
                                <g fill="none" fill-rule="evenodd" stroke-width="2">
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                </g>
                            </svg>
                        </div>
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col" class="text-primary"><span class="fw-semibold fs-4">Customer
                                            Success (CS) Calls<span></th>
                                <th scope="col">
                                    <p class="fw-semibold fs-4 text-end"></p>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td scope="row" class="">No. of CS calls made</td>
                                <td class="text-end text-count-background total_cs_calls">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of CS calls connected</td>
                                <td class="text-end text-count-background total_cs_connected_calls">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of CS calls not answered</td>
                                <td class="text-end text-count-background total_cs_unanswered_calls">0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-6 col-lg-6">
                <div class="card card_box_shadow" style="width: 100%;">
                    <div class="card-body text-start p-0 card_table_container">
                        <div class="data_loader customer_incoming_calls_loader">
                            <svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#027AFB">
                                <g fill="none" fill-rule="evenodd" stroke-width="2">
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                </g>
                            </svg>
                        </div>
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col" class="text-primary"><span class="fw-semibold fs-4">Incoming
                                            Calls<span></th>
                                <th scope="col">
                                    <p class="fw-semibold fs-4 text-end total_incoming_calls">0</p>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td scope="row"><b>No. Of Incoming Calls Received</b></td>
                                <td class="text-end text-count-background total_incoming_calls">0</td>
                            </tr>
                            <tr>
                                <td scope="row"><b>No. Of Incoming Calls Answered</b></td>
                                <td class="text-end text-count-background total_incoming_calls_answered">0</td>
                            </tr>
                            <tr>
                                <td scope="row" class="text-danger"><b>Missed Calls</b></td>
                                <td class="text-end text-count-background total_missed_calls">0</td>
                            </tr>
                            <tr>
                                <td scope="row"><b>Missed Call Callbacks- Answered</b></td>
                                <td class="text-end text-count-background total_missed_calls_answered">0</td>
                            </tr>
                            <tr>
                                <td scope="row" class="text-danger"><b>Missed Call Callbacks- Unanswered</b>
                                </td>
                                <td class="text-end text-count-background total_missed_calls_unanswered">0</td>
                            </tr>
                            <tr>
                                <td scope="row">Incoming Calls Reasons (<b class="total_incoming_reasons"></b>)-</td>
                            </tr>
                            <tr>
                                <table class="table">
                                    <tbody>
                                    <tr>
                                        <td scope="row">Sales (<b class="sales_progress_bar"></b>)</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated sales_progress_bar_percentage" role="progressbar" aria-label="Animated striped example" aria-valuenow="6" aria-valuemin="0" aria-valuemax="10" style="width: 0%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Technical (<b class="technical_progress_bar"></b>)
                                        </td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated technical_progress_bar_percentage" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 70%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Course</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 40%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Live Class (<b class="incoming_call_reason_live_class"></b>)</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated incoming_call_reason_live_class_pr" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 40%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Refund (<b class="refund_progress_bar"></b>)</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated refund_progress_bar_pr" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 70%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Payment (<b class="incoming_call_reason_payment"></b>)</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated incoming_call_reason_payment_pr" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 60%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Mentoring (<b class="incoming_call_reason_mentoring"></b>)</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated incoming_call_reason_mentoring_pr" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 40%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Batch (<b class="incoming_call_reason_batch"></b>)
                                        </td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated incoming_call_reason_batch_pr" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 80%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Whatsapp Group (<b class="incoming_call_reason_whatsapp"></b>)</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated incoming_call_reason_whatsapp_pr" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 60%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Disposition</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 60%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td scope="row">Miscellaneous (<b class="incoming_call_reason_miscellaneous"></b>)</td>
                                        <td class="text-end w-100">
                                            <div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-bar-animated incoming_call_reason_miscellaneous_pr" role="progressbar" aria-label="Animated striped example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="10" style="width: 40%">
                                                    <div class="progress_pointer"></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="card card_box_shadow p-0" style="width: 100%;">
            <div class="row">
                <div class="col-4 col-md-4 col-lg-4">
                    <div class="card-body p-0 card_table_container">
                        <div class="data_loader freshdesk_container_loader">
                            <svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#027AFB">
                                <g fill="none" fill-rule="evenodd" stroke-width="2">
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                </g>
                            </svg>
                        </div>
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col" class="text-primary"><span class="fw-semibold fs-4">FRESHDESK<span></th>
                                <th scope="col">
                                    <p class="fw-semibold fs-4 text-end"></p>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td scope="row w-80">No. of email tickets created<br>6:00PM-6:00PM</td>
                                <td class="text-end text-count-background freshdesk_data_email_tickets">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of email tickets resolved</td>
                                <td class="text-end text-count-background freshdesk_data_email_tickets_resolved">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of tickets escalated</td>
                                <td class="text-end text-count-background freshdesk_data_email_tickets_escalated">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of tickets On Hold</td>
                                <td class="text-end text-count-background freshdesk_data_email_tickets_hold">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of tickets Over Due</td>
                                <td class="text-end text-count-background freshdesk_data_chat_tickets_overdue">0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-8 col-md-8 col-lg-8">
                    <div class="card-body p-0">
                        <h6 class="py-3 m-0">Ticket Reasons-</h6>
                        <div style="width: 100%;">
                            <canvas id="ticketReason" width="400"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-6 col-md-6 col-lg-6">
                <div class="card card_box_shadow p-0" style="width: 100%;">
                    <div class="card-body p-0">
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col" class="text-primary"><span class="fw-semibold fs-4">FRESHCHAT<span></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td scope="row w-80">No. of whatsapp chatbot tickets received</td>
                                <td class="text-end text-count-background freshdesk_data_chat_tickets">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of whatsapp chatbot tickets resolved</td>
                                <td class="text-end text-count-background freshdesk_data_chat_tickets_resolved">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of Whatsapp chatbot tickets escalated</td>
                                <td class="text-end text-count-background freshdesk_data_chat_tickets_escalated">0</td>
                            </tr>
                            <tr>
                                <td scope="row">No. of Whatsapp chatbot tickets Pending</td>
                                <td class="text-end text-count-background freshdesk_data_chat_tickets_hold">0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-6 col-lg-6">
                <div class="card card_box_shadow p-0" style="width: 100%;">
                    <div class="card-body p-0 card_table_container">
                        <div class="data_loader customer_transfered_calls_loader">
                            <svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="#027AFB">
                                <g fill="none" fill-rule="evenodd" stroke-width="2">
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="22" cy="22" r="1">
                                        <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/>
                                        <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/>
                                    </circle>
                                </g>
                            </svg>
                        </div>
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col" class="text-primary"><span class="fw-semibold fs-4">Call
                                            Transferred<span></th>
                                <th scope="col">
                                    <p class="fw-semibold fs-4 text-end total_call_transfer">0</p>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td scope="row">Call Transferred To sales team</td>
                                <td class="text-end text-count-background total_call_transfer_to_sales">0</td>
                            </tr>
                            <tr>
                                <td scope="row">Call Transferred From Sales Team</td>
                                <td class="text-end text-count-background">0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        fetchCallAndGroupCount();
        fetchWelcomeCallsData();
        fetchCustomerCallsData();
        fetchCustomerIncomingCallsData();
        freshDeskData();
        callTransferedData();
    });

    function fetchCallAndGroupCount() {
        const containerSelector = '.class_and_group_count_card_container';
        const loaderSelector = `${containerSelector}_loader`;
        var startDate = $('#startDate').val();
        var endDate = $('#endDate').val();
        try {
            $(loaderSelector).show();
            $(containerSelector).hide();
            var date = $('input[name="date"]:checked').val();
            var fetchCallAndGroupCount = $.ajax({
                url: '{{ route('support.fetchCallAndGroupCount') }}',
                method: 'GET',
                data: {
                    date,
                    startDate,
                    endDate
                },
                success: function (res) {
                    $('.total_welcome_calls').html(res.total_welcome_calls);
                    $('.total_incoming_calls').html(res.total_incoming_calls);
                    $('.total_orders_between_550_to_550').html(res.total_orders_between_550_to_550);
                    $('.whatspp_group_additions').html(res.whatspp_group_additions);
                    $('.total_customer_success_calls').html(res.total_customer_success_calls);
                    $('.total_converted_leads').html(res.total_converted_leads);

                    $(loaderSelector).fadeOut('slow', () => {
                        $(containerSelector).fadeIn('slow');
                    });
                }
            });
            activeAjaxRequests.push(fetchCallAndGroupCount);

        } catch (error) {
            $(loaderSelector).fadeOut('slow', () => {
                $(containerSelector).fadeIn('slow');
            });
            console.error('Error fetching call and group count:', error);
            // Handle error appropriately, e.g., show error message to user
        }
    };

    function fetchWelcomeCallsData() {
        const loaderSelector = `.welcome_calls_loader`;
        var startDate = $('#startDate').val();
        var endDate = $('#endDate').val();
        try {
            $(loaderSelector).show();
            var date = $('input[name="date"]:checked').val();
            var fetchWelcomeCallsData = $.ajax({
                url: '{{ route('support.fetchWelcomeCallsData') }}',
                method: 'GET',
                data: {
                    date,
                    startDate,
                    endDate
                },
                success: function (res) {
                    $('.total_welcome_calls').html(res.total_welcome_calls);
                    $('.total_welcome_calls_connected').html(res.total_welcome_calls_connected);
                    $('.total_welcome_calls_unanswered').html(res.total_welcome_calls_unanswered);
                    $(loaderSelector).fadeOut('slow');
                }
            });
            activeAjaxRequests.push(fetchWelcomeCallsData);

        } catch (error) {
            $(loaderSelector).fadeOut('slow');
            console.error('Error fetching call and group count:', error);
            // Handle error appropriately, e.g., show error message to user
        }
    };

    function fetchCustomerCallsData() {
        const loaderSelector = `.customer_success_calls_loader`;
        var startDate = $('#startDate').val();
        var endDate = $('#endDate').val();
        try {
            $(loaderSelector).show();
            var date = $('input[name="date"]:checked').val();
            var fetchCustomerCallsData = $.ajax({
                url: '{{ route('support.fetchCustomerCallsData') }}',
                method: 'GET',
                data: {
                    date,
                    startDate,
                    endDate
                },
                success: function (res) {
                    $('.total_cs_calls').html(res.total_cs_calls);
                    $('.total_cs_connected_calls').html(res.total_cs_connected_calls);
                    $('.total_cs_unanswered_calls').html(res.total_cs_unanswered_calls);
                    $(loaderSelector).fadeOut('slow');
                }
            });
            activeAjaxRequests.push(fetchCustomerCallsData);
        } catch (error) {
            $(loaderSelector).fadeOut('slow');
            console.error('Error fetching call and group count:', error);
            // Handle error appropriately, e.g., show error message to user
        }
    };

    function fetchCustomerIncomingCallsData() {
        const loaderSelector = `.customer_incoming_calls_loader`;
        var startDate = $('#startDate').val();
        var endDate = $('#endDate').val();
        try {
            $(loaderSelector).show();
            var date = $('input[name="date"]:checked').val();
            var fetchCustomerIncomingCallsData = $.ajax({
                url: '{{ route('support.fetchCustomerIncomingCallsData') }}',
                method: 'GET',
                data: {
                    date,
                    startDate,
                    endDate
                },
                success: function (res) {
                    $('.total_incoming_reasons').html(res.total_incoming_reasons);
                    $('.total_incoming_calls').html(res.total_incoming_calls);
                    $('.total_incoming_calls_answered').html(res.total_incoming_calls_answered);
                    $('.total_missed_calls').html(res.total_missed_calls);
                    $('.total_missed_calls_answered').html(res.total_missed_calls_answered);
                    $('.total_missed_calls_unanswered').html(res.total_missed_calls_unanswered);
                    $('.sales_progress_bar').html(res.incoming_call_reason_sales);
                    $('.technical_progress_bar').html(res.incoming_call_reason_technical);
                    $('.refund_progress_bar').html(res.incoming_call_reason_refund);
                    $('.incoming_call_reason_payment').html(res.incoming_call_reason_payment);
                    $('.incoming_call_reason_mentoring').html(res.incoming_call_reason_mentoring);
                    $('.incoming_call_reason_batch').html(res.incoming_call_reason_batch);
                    $('.incoming_call_reason_whatsapp').html(res.incoming_call_reason_whatsapp);
                    $('.incoming_call_reason_miscellaneous').html(res
                        .incoming_call_reason_miscellaneous);
                    $('.incoming_call_reason_live_class').html(res.incoming_call_reason_live_class);

                    $('.sales_progress_bar_percentage').attr('style', 'width:' + res
                        .incoming_call_reason_sales_pr + '%')
                    $('.technical_progress_bar_percentage').attr('style', 'width:' + res
                        .incoming_call_reason_technical_pr + '%')
                    $('.refund_progress_bar_pr').attr('style', 'width:' + res
                        .incoming_call_reason_refund_pr + '%')
                    $('.incoming_call_reason_payment_pr').attr('style', 'width:' + res
                        .incoming_call_reason_payment_pr + '%')
                    $('.incoming_call_reason_mentoring_pr').attr('style', 'width:' + res
                        .incoming_call_reason_mentoring_pr + '%')
                    $('.incoming_call_reason_batch_pr').attr('style', 'width:' + res
                        .incoming_call_reason_batch_pr + '%')
                    $('.incoming_call_reason_whatsapp_pr').attr('style', 'width:' + res
                        .incoming_call_reason_whatsapp_pr + '%')
                    $('.incoming_call_reason_miscellaneous_pr').attr('style', 'width:' + res
                        .incoming_call_reason_miscellaneous_pr + '%')
                    $('.incoming_call_reason_live_class_pr').attr('style', 'width:' + res
                        .incoming_call_reason_live_class_pr + '%')
                    $(loaderSelector).fadeOut('slow');
                }
            });
            activeAjaxRequests.push(fetchCustomerIncomingCallsData);
        } catch (error) {
            $(loaderSelector).fadeOut('slow');
            console.error('Error fetching call and group count:', error);
            // Handle error appropriately, e.g., show error message to user
        }
    };

    function freshDeskData() {
        const loaderSelector = `.customer_incoming_calls_loader`;
        var startDate = $('#startDate').val();
        var endDate = $('#endDate').val();
        try {
            $(loaderSelector).show();
            var date = $('input[name="date"]:checked').val();
            var freshDeskData = $.ajax({
                url: '{{ route('support.freshDeskData') }}',
                method: 'GET',
                data: {
                    date,
                    startDate,
                    endDate
                },
                success: function (res) {
                    $('.freshdesk_data_chat_tickets').html(res.freshdesk_data_chat_tickets);
                    $('.freshdesk_data_chat_tickets_escalated').html(res.freshdesk_data_chat_tickets_escalated);
                    $('.freshdesk_data_chat_tickets_hold').html(res.freshdesk_data_chat_tickets_hold);
                    $('.freshdesk_data_chat_tickets_resolved').html(res.freshdesk_data_chat_tickets_resolved);
                    $('.freshdesk_data_email_tickets').html(res.freshdesk_data_email_tickets);
                    $('.freshdesk_data_email_tickets_escalated').html(res.freshdesk_data_email_tickets_escalated);
                    $('.freshdesk_data_email_tickets_hold').html(res.freshdesk_data_email_tickets_hold);
                    $('.freshdesk_data_email_tickets_resolved').html(res.freshdesk_data_email_tickets_resolved);
                    $('.freshdesk_data_chat_tickets_overdue').html(res.freshdesk_data_chat_tickets_overdue);

                    let ticket_reasons = res.ticket_reasons;
                    let labels = ticket_reasons.map(item => item.Type || 'null');
                    let data = ticket_reasons.map(item => item.tickets);
                    console.log(labels)
                    var ctx = document.getElementById('ticketReason').getContext('2d');
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: 'Ticket Reasons',
                                backgroundColor: '#6186FF',
                                borderColor: '#6186FF',
                                borderWidth: 1,
                                barPercentage: 0.6,
                                categoryPercentage: 0.6,
                                borderRadius: 10,
                                data: data
                            }]
                        },
                        options: {
                            scales: {
                                x: {
                                    ticks: {
                                        callback: function (value) {
                                            return labels[value].length > 3 ? labels[value].substr(0, 3) + '...' : labels[value];
                                        }
                                    }
                                }
                            }
                        }
                    });
                    $(loaderSelector).fadeOut('slow');
                }
            });
            activeAjaxRequests.push(freshDeskData);
        } catch (error) {
            $(loaderSelector).fadeOut('slow');
            console.error('Error fetching call and group count:', error);
        }
    };

    function callTransferedData() {
        const loaderSelector = `.customer_transfered_calls_loader`;
        var startDate = $('#startDate').val();
        var endDate = $('#endDate').val();
        try {
            $(loaderSelector).show();
            var date = $('input[name="date"]:checked').val();
            var callTransferedData = $.ajax({
                url: '{{ route('support.callTransferedData') }}',
                method: 'GET',
                data: {
                    date,
                    startDate,
                    endDate
                },
                success: function (res) {
                    $('.total_call_transfer').html(res.total_call_transfer);
                    $('.total_call_transfer_to_sales').html(res.total_call_transfer_to_sales);
                    $(loaderSelector).fadeOut('slow');
                }
            });
            activeAjaxRequests.push(callTransferedData);
        } catch (error) {
            $(loaderSelector).fadeOut('slow');
            console.error('Error fetching call and group count:', error);
            // Handle error appropriately, e.g., show error message to user
        }
    };
</script>
